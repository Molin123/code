<!DOCTYPE html>
<html ng-app="app">
<head>
	<title></title>
</head>
<body>
	<style type="text/css">
		.expander{
			border:2px solid black;
		}
		.expander > .title{
			background-color: black;
			color: blue;
			padding: .1em .3em;
			cursor: pointer;
		}
		.expander > .body{
			padding: .1em .3em;
		}
		.expander > .body.closed{
			display: none;
		}
	</style>
	<div ng-controller="SomeController">
		<expander class="expander" expander-title='title'>
			{{text}}
		</expander>
	</div>
	<script type="text/javascript" src="js/angular.js"></script>
	<script type="text/javascript">
		var appModule = angular.module('app',[]);
		appModule.directive('expander',function () {
			return {
				restrict: 'EA',//E元素A属性C样式表M注释  用来描述指令的声明风格，即他是否可以被用作元素。。。。这里如果写上C会报错
				replace: true,//使用我们提供的模板来替换原来的元素
				transclude: true,//把原来元素中的内容移到我们所提供的模板中
				scope: { title:'=expanderTitle' },  //scope: { expanderTitle:'=' } 然后下面用expanderTitle引用也可以
				template: '<div>' + 
  							'<div class="title">{{title}}</div>' + 
  							'<div class="body closed" ng-transclude></div>' + 
  							'</div>' ,
  				link: function(scope, element, attrs){
  					var titleElement = angular.element(element.children().eq(0));
  					var bodyElement = angular.element(element.children().eq(1));
  					titleElement.bind('click', toggle);
  					function toggle(){
  						bodyElement.toggleClass('closed');
  					}
  				}
			}
		});
		appModule.controller('SomeController',function ($scope){
			$scope.title = 'title';
			$scope.text = 'fsdfsdfsdafsdfsdafdsfsdafsadfdsaf'
		});
	</script>
</body>
</html>